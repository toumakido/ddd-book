問題9: オンライン書店システムの実装段階に入りました。DDDの原則に基づき、「注文管理」コンテキストの中核となる集約（Order集約）のコードを設計します。具体的には以下を考えてみましょう：

Order集約ルートのドメインモデル設計において、どのように不変条件（invariants）を守るべきですか？
ドメインイベントをどのように実装し、他のコンテキストとの連携を行いますか？
リポジトリパターンを用いてOrder集約をどのように永続化しますか？
集約の境界をどのように決定し、関連エンティティをどこまで含めるべきでしょうか？
これらの質問に関するあなたの考え方を説明してください。コード例は必要ありません。